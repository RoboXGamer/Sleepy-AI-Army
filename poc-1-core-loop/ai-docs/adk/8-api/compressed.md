Okay, here is the API documentation compressed into the requested format:

**google.adk.agents.Agent**: alias of `LlmAgent`.

**google.adk.agents.BaseAgent**: Base class for ADK agents. Properties: after\_agent\_callback: Optional[Callable], callback after agent run. before\_agent\_callback: Optional[Callable], callback before agent run. description: str, agent capability description. name: str, agent's unique name (Python identifier, required). parent\_agent: Optional[BaseAgent], parent agent reference. sub\_agents: list[BaseAgent], list of child agents. root\_agent: BaseAgent, gets the root agent. Methods: find\_agent(name: str): Optional[BaseAgent], finds agent by name in self/descendants. find\_sub\_agent(name: str): Optional[BaseAgent], finds agent by name in descendants. async run\_async(parent\_context: InvocationContext): AsyncGenerator[Event, None], runs agent via text conversation. async run\_live(parent\_context: InvocationContext): AsyncGenerator[Event, None], runs agent via live input (video/audio).

**google.adk.agents.LlmAgent**: LLM-based Agent. Properties: after\_model\_callback: Optional[Callable], called after LLM call. after\_tool\_callback: Optional[Callable], called after tool call. before\_model\_callback: Optional[Callable], called before LLM call. before\_tool\_callback: Optional[Callable], called before tool call. code\_executor: Optional[BaseCodeExecutor], allows agent to execute code blocks. disallow\_transfer\_to\_parent: bool, disallows LLM transfer to parent. disallow\_transfer\_to\_peers: bool, disallows LLM transfer to peers. examples: Optional[ExamplesUnion], few-shot examples. generate\_content\_config: Optional[types.GenerateContentConfig], additional LLM generation config (e.g., temperature). global\_instruction: str | InstructionProvider, instructions for the entire agent tree (root only). include\_contents: Literal['default','none'], whether to include contents in model request. input\_schema: Optional[type[BaseModel]], input schema when used as a tool. instruction: str | InstructionProvider, instructions for this agent's behavior. model: str | BaseLlm, model name or instance (inherits if unset). output\_key: Optional[str], key in session state to store agent output. output\_schema: Optional[type[BaseModel]], output schema for agent replies (disables tools). planner: Optional[BasePlanner], instructs agent to plan execution. tools: list[ToolUnion], tools available to this agent. canonical\_model: BaseLlm, resolved model instance. canonical\_tools: list[BaseTool], resolved list of tools. Methods: canonical\_global\_instruction(ctx): str, resolved global instruction. canonical\_instruction(ctx): str, resolved agent instruction.

**google.adk.agents.LoopAgent**: Shell agent that runs sub-agents in a loop until escalation or max iterations. Properties: max\_iterations: Optional[int], maximum loop iterations.

**google.adk.agents.ParallelAgent**: Shell agent that runs sub-agents in parallel in isolation. (No specific properties/methods listed beyond BaseAgent).

**google.adk.agents.SequentialAgent**: Shell agent that runs sub-agents sequentially. (No specific properties/methods listed beyond BaseAgent).

**google.adk.artifacts.BaseArtifactService**: Abstract base class for artifact services. Methods: abstract delete\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str): None, deletes an artifact. abstract list\_artifact\_keys(app\_name: str, user\_id: str, session\_id: str): list[str], lists artifact filenames in a session. abstract list\_versions(app\_name: str, user\_id: str, session\_id: str, filename: str): list[int], lists all versions of an artifact. abstract load\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str, version: Optional[int] = None): Optional[Part], gets an artifact (latest if version is None). abstract save\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str, artifact: Part): int, saves an artifact, returns revision ID.

**google.adk.artifacts.GcsArtifactService**: Artifact service using Google Cloud Storage. Properties: bucket\_name: str, GCS bucket name. Methods: delete\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str): None, deletes artifact from GCS. list\_artifact\_keys(app\_name: str, user\_id: str, session\_id: str): list[str], lists artifact keys from GCS. list\_versions(app\_name: str, user\_id: str, session\_id: str, filename: str): list[int], lists artifact versions from GCS. load\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str, version: Optional[int] = None): Optional[Part], loads artifact from GCS. save\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str, artifact: Part): int, saves artifact to GCS, returns revision ID.

**google.adk.artifacts.InMemoryArtifactService**: In-memory artifact service implementation. Properties: artifacts: dict[str, list[Part]], storage for artifacts. Methods: delete\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str): None, deletes artifact from memory. list\_artifact\_keys(app\_name: str, user\_id: str, session\_id: str): list[str], lists artifact keys from memory. list\_versions(app\_name: str, user\_id: str, session\_id: str, filename: str): list[int], lists artifact versions from memory. load\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str, version: Optional[int] = None): Optional[Part], loads artifact from memory. save\_artifact(app\_name: str, user\_id: str, session\_id: str, filename: str, artifact: Part): int, saves artifact to memory, returns revision ID.

**google.adk.code\_executors.BaseCodeExecutor**: Abstract base class for code executors. Properties: optimize\_data\_file: bool, extract/process data files (e.g., text/csv) from request (default False). stateful: bool, whether executor maintains state between calls (default False). error\_retry\_attempts: int, retry attempts on errors (default 2). code\_block\_delimiters: List[tuple[str, str]], delimiters for code blocks (default ). Methods: abstract execute\_code(invocation\_context, code\_execution\_input): CodeExecutionResult, executes code.

**google.adk.code\_executors.CodeExecutorContext**: Persistent context for code executor configuration. Properties: session\_state: dict, underlying session state. Methods: add\_input\_files(input\_files): Adds input files. add\_processed\_file\_names(file\_names): Adds processed file names. clear\_input\_files(): Removes input files and processed names. get\_error\_count(invocation\_id): int, gets error count for invocation. get\_execution\_id(): Optional[str], gets executor session ID. get\_input\_files(): list[File], gets input files. get\_processed\_file\_names(): list[str], gets processed file names. get\_state\_delta(): dict[str, Any], gets state changes for persistent update. increment\_error\_count(invocation\_id): Increments error count. reset\_error\_count(invocation\_id): Resets error count. set\_execution\_id(session\_id): Sets executor session ID. update\_code\_execution\_result(invocation\_id, code, result\_stdout, result\_stderr): Updates execution result.

**google.adk.code\_executors.ContainerCodeExecutor**: Code executor using a custom container. Properties: base\_url: Optional[str], base URL of user-hosted Docker client. image: str, predefined or custom image tag. docker\_path: str, path to Dockerfile directory (builds image if set). (optimize\_data\_file, stateful inherited). Methods: execute\_code(invocation\_context, code\_execution\_input): CodeExecutionResult, executes code in container.

**google.adk.code\_executors.UnsafeLocalCodeExecutor**: Executes code unsafely in the current local context. (optimize\_data\_file, stateful inherited). Methods: execute\_code(invocation\_context, code\_execution\_input): CodeExecutionResult, executes code locally.

**google.adk.code\_executors.VertexAiCodeExecutor**: Code executor using Vertex AI Code Interpreter Extension. Properties: resource\_name: Optional[str], existing resource name (e.g., projects/.../extensions/...). (optimize\_data\_file, stateful inherited, stateful defaults to true for Vertex AI). Methods: execute\_code(invocation\_context, code\_execution\_input): CodeExecutionResult, executes code via Vertex Extension.

**google.adk.evaluation.AgentEvaluator**: Evaluator for Agents, mainly for test cases. Methods: static evaluate(agent\_module, eval\_dataset\_file\_path\_or\_dir, num\_runs=2, agent\_name=None, initial\_session\_file=None): Evaluates agent against dataset. static find\_config\_for\_test\_file(test\_file): Finds test\_config.json near test file.

**google.adk.events.Event**: Represents an event in a conversation. Properties: invocation\_id: str, invocation ID. author: str, 'user' or agent name. actions: EventActions, actions taken (e.g., state change, transfer). long\_running\_tool\_ids: Optional[set[str]], IDs of long-running function calls started. branch: Optional[str], event branch for isolated history (e.g., agent1.agent2). id: str, unique event identifier. timestamp: float, event timestamp. is\_final\_response: bool, whether event is the final agent response. Methods: get\_function\_calls(): list[FunctionCall], returns function calls in the event. get\_function\_responses(): list[FunctionResponse], returns function responses in the event. has\_trailing\_code\_exeuction\_result(): bool, checks for trailing code execution result. is\_final\_response(): bool, checks if event is final response. static new\_id(): Generates new event ID.

**google.adk.events.EventActions**: Actions attached to an event. Properties: artifact\_delta: dict[str, int], artifact updates (filename: version). escalate: Optional[bool], agent escalates to higher level. requested\_auth\_configs: dict[str, AuthConfig], auth needed for function calls (func\_call\_id: config). skip\_summarization: Optional[bool], skip model summarization for function response. state\_delta: dict[str, object], updates to session state. transfer\_to\_agent: Optional[str], transfers control to specified agent.

**google.adk.examples.BaseExampleProvider**: Base class for example providers. Methods: abstract get\_examples(query): list[Example], returns list of examples for a query.

**google.adk.examples.Example**: A few-shot example. Properties: input: Content, input content. output: list[Content], expected output content(s).

**google.adk.examples.VertexAiExampleStore**: Provides examples from Vertex AI Example Store. Properties: examples\_store\_name: str, resource name of the Vertex Example Store. Methods: get\_examples(query): list[Example], retrieves examples from Vertex Example Store.

**google.adk.memory.BaseMemoryService**: Base class for memory services. Methods: abstract add\_session\_to\_memory(session): Adds session data to memory. abstract search\_memory(app\_name: str, user\_id: str, query: str): SearchMemoryResponse, searches memory for relevant sessions.

**google.adk.memory.InMemoryMemoryService**: In-memory memory service (prototyping only, keyword matching). Methods: add\_session\_to\_memory(session): Adds session to in-memory store. search\_memory(app\_name: str, user\_id: str, query: str): SearchMemoryResponse, searches in-memory store.

**google.adk.memory.VertexAiRagMemoryService**: Memory service using Vertex AI RAG. Properties: rag\_corpus: Optional[str], Vertex RAG corpus name/ID. similarity\_top\_k: Optional[int], number of contexts to retrieve. vector\_distance\_threshold: float, threshold for context retrieval (default 10). Methods: add\_session\_to\_memory(session): Adds session to Vertex RAG. search\_memory(app\_name: str, user\_id: str, query: str): SearchMemoryResponse, searches Vertex RAG.

**google.adk.models.BaseLlm**: Base class for LLMs. Properties: model: str, name of the LLM (e.g., gemini-1.5-flash). Methods: connect(llm\_request: LlmRequest): BaseLlmConnection, creates live LLM connection. abstract async generate\_content\_async(llm\_request: LlmRequest, stream: bool = False): AsyncGenerator[LlmResponse, None], generates content (streaming or single). classmethod supported\_models(): list[str], returns regex list of supported models.

**google.adk.models.Gemini**: Integration for Gemini models. Properties: model: str, name of Gemini model (default 'gemini-1.5-flash'). api\_client: Client, provides the API client. Methods: connect(llm\_request: LlmRequest): BaseLlmConnection, connects to Gemini. async generate\_content\_async(llm\_request: LlmRequest, stream: bool = False): AsyncGenerator[LlmResponse, None], sends request to Gemini. static supported\_models(): list[str], returns list of supported Gemini models.

**google.adk.models.LLMRegistry**: Registry for LLMs. Methods: static new\_llm(model: str): BaseLlm, creates new LLM instance. static register(llm\_cls: type[BaseLlm]): Registers LLM class. static resolve(model: str): type[BaseLlm], resolves model name to class.

**google.adk.planners.BasePlanner**: Abstract base class for planners. Methods: abstract build\_planning\_instruction(readonly\_context, llm\_request): Optional[str], builds planning system instruction for LLM request. abstract process\_planning\_response(callback\_context, response\_parts): Optional[List[Part]], processes LLM planning response.

**google.adk.planners.BuiltInPlanner**: Planner using model's built-in thinking features. Properties: thinking\_config: ThinkingConfig, config for model thinking. Methods: apply\_thinking\_config(llm\_request): None, applies thinking config to request. build\_planning\_instruction(readonly\_context, llm\_request): Optional[str], builds instruction (usually None for built-in). process\_planning\_response(callback\_context, response\_parts): Optional[List[Part]], processes response (usually None for built-in).

**google.adk.planners.PlanReActPlanner**: Plan-ReAct planner constraining LLM to generate plan first. Methods: build\_planning\_instruction(readonly\_context, llm\_request): str, builds specific plan-react instruction. process\_planning\_response(callback\_context, response\_parts): Optional[List[Part]], processes plan-react response.

**google.adk.runners.InMemoryRunner**: In-memory Runner for testing/development. Uses in-memory services. Properties: agent: BaseAgent, root agent to run. app\_name: str, application name (default 'InMemoryRunner'). (Inherits methods from Runner).

**google.adk.runners.Runner**: Manages agent execution within a session. Properties: app\_name: str, application name. agent: BaseAgent, root agent. artifact\_service: Optional[BaseArtifactService], artifact service instance. session\_service: BaseSessionService, session service instance. memory\_service: Optional[BaseMemoryService], memory service instance. Methods: close\_session(session): Closes session, adds to memory (if available). run(user\_id, session\_id, new\_message, run\_config): Generator[Event, None, None], runs agent (sync, for testing). async run\_async(user\_id, session\_id, new\_message, run\_config): AsyncGenerator[Event, None], runs agent asynchronously (production). async run\_live(session, live\_request\_queue, run\_config): AsyncGenerator[Event, None], runs agent in live mode.

**google.adk.sessions.BaseSessionService**: Base class for session services. Methods: append\_event(session, event): Event, appends event to session object (may persist). close\_session(session): Closes a session (may trigger persistence). abstract create\_session(app\_name, user\_id, state=None, session\_id=None): Session, creates new session. abstract delete\_session(app\_name, user\_id, session\_id): None, deletes session. abstract get\_session(app\_name, user\_id, session\_id, config=None): Optional[Session], retrieves session. abstract list\_events(app\_name, user\_id, session\_id): ListEventsResponse, lists session events. abstract list\_sessions(app\_name, user\_id): ListSessionsResponse, lists user sessions.

**google.adk.sessions.DatabaseSessionService**: Session service using a database. Properties: db\_url: str, database connection URL. (Implements BaseSessionService methods using DB).

**google.adk.sessions.InMemorySessionService**: In-memory session service implementation. (Implements BaseSessionService methods using in-memory dicts).

**google.adk.sessions.Session**: Represents user-agent interactions. Properties: id: str, unique session identifier. app\_name: str, application name. user\_id: str, user identifier. state: dict[str, Any], session state. events: list[Event], list of events in the session. last\_update\_time: float, timestamp of last update.

**google.adk.sessions.State**: Manages state dictionary with pending delta. Properties: value: dict, current state. delta: dict, pending changes. Methods: get(key, default=None): Any, gets value from state (current + delta). has\_delta(): bool, checks for pending changes. to\_dict(): dict[str, Any], returns combined state (current + delta). update(delta): Updates pending delta. Constants: APP\_PREFIX, TEMP\_PREFIX, USER\_PREFIX (for key namespacing).

**google.adk.sessions.VertexAiSessionService**: Connects to managed Vertex AI Session Service. Properties: project: Optional[str], GCP project ID. location: Optional[str], GCP location. (Implements BaseSessionService methods using Vertex AI).

**google.adk.tools.APIHubToolset**: Generates tools from API Hub resource. Properties: apihub\_resource\_name: str, API Hub resource name. access\_token: Optional[str], Google access token. service\_account\_json: Optional[str], service account JSON string. name: str, toolset name. description: str, toolset description. lazy\_load\_spec: bool, load spec lazily (default False). auth\_scheme: Optional[AuthScheme], default auth for tools. auth\_credential: Optional[AuthCredential], default credential for tools. apihub\_client: Optional[ApiHubClient], custom client. Methods: get\_tool(name: str): Optional[RestApiTool], retrieves specific tool by name. get\_tools(): List[RestApiTool], retrieves all tools from the spec.

**google.adk.tools.AuthToolArguments**: Arguments for requesting end-user credentials tool. Properties: auth\_config: AuthConfig, required authentication configuration. function\_call\_id: str, ID of the function call needing auth.

**google.adk.tools.BaseTool**: Base class for all tools. Properties: name: str, tool name. description: str, tool description. is\_long\_running: bool, indicates long-running operation (default False). Methods: async process\_llm\_request(tool\_context, llm\_request): None, processes outgoing LLM request (e.g., add tool schema). async run\_async(args, tool\_context): Any, runs the tool (client-side execution).

**google.adk.tools.ExampleTool**: Adds few-shot examples to LLM request. Properties: examples: list[Example] | BaseExampleProvider, examples to add. Methods: async process\_llm\_request(tool\_context, llm\_request): None, adds examples to LLM request.

**google.adk.tools.FunctionTool**: Wraps a Python function as a tool. Properties: func: Callable, the function to wrap. Methods: async run\_async(args, tool\_context): Any, executes the wrapped function.

**google.adk.tools.LongRunningFunctionTool**: Function tool for asynchronous long-running operations. Properties: is\_long\_running: bool (True). (Inherits func from FunctionTool). Methods: async run\_async(args, tool\_context): Any, starts the long-running function.

**google.adk.tools.ToolContext**: Context for tool invocation. Properties: invocation\_context: InvocationContext. function\_call\_id: Optional[str], ID of the current function call. event\_actions: EventActions, mutable actions for the tool response event. actions: EventActions, property access to event\_actions. Methods: get\_auth\_response(auth\_config): AuthCredential, retrieves auth credentials (after request). list\_artifacts(): list[str], lists artifact filenames for the session. request\_credential(auth\_config): None, requests end-user credentials. search\_memory(query): SearchMemoryResponse, searches user memory.

**google.adk.tools.VertexAiSearchTool**: Built-in tool using Vertex AI Search. Properties: data\_store\_id: Optional[str], Vertex AI Search data store ID. search\_engine\_id: Optional[str], Vertex AI Search engine ID. (name, description generated automatically). Methods: async process\_llm\_request(tool\_context, llm\_request): None, adds Vertex AI Search tool schema to LLM request.

**google.adk.tools.exit\_loop(tool\_context: ToolContext)**: Function tool to signal exiting a LoopAgent.

**google.adk.tools.transfer\_to\_agent(agent\_name: str, tool\_context: ToolContext)**: Function tool to transfer control to another agent.